datasource db {
   provider = "postgresql"
   url      = env("DATABASE_URL")
}

generator client {
   provider = "prisma-client-js"
}

model User {
   id        Int       @id @default(autoincrement())
   firstName String
   lastName  String
   email     String    @unique
   password  String
   cpf       String?   @unique
   phone     String?
   birthDate DateTime?
   createdAt DateTime  @default(now())
   role      Role      @default(USER)
}

enum Role {
   USER
   ADMIN
}

model Category {
   id          Int       @id @default(autoincrement())
   name        String
   slug        String    @unique
   description String?
   active      Boolean   @default(true)
   createdAt   DateTime  @default(now())
   updatedAt   DateTime  @updatedAt
   products    Product[]
}

model Product {
   id          Int      @id @default(autoincrement())
   name        String
   slug        String   @unique
   description String?
   price       Decimal
   colors      Json?
   images      Json?
   sizes       Json?
   stock       Int      @default(0)
   active      Boolean  @default(true)
   createdAt   DateTime @default(now())
   updatedAt   DateTime @updatedAt
   category    Category @relation(fields: [categoryId], references: [id])
   categoryId  Int
}
